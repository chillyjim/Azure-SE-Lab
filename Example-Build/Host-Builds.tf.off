module "linuxhost" {
  source   = "../modules/ubuntu"
  basename = var.basename
  hostname = "linux-1"
  subnet   = "lan"
  endpoint = module.common.endpoint
  username = var.username
  depends_on = [
    module.common,
  ]
}

output "Linuxhost_public_ip" {
  value = module.linuxhost.Host_public_ip
}

module "linuxDMZ" {
  source   = "../modules/ubuntu"
  basename = var.basename
  hostname = "linux-DMZ"
  subnet   = "lan"
  endpoint = module.common.endpoint
  username = var.username
  depends_on = [
    module.common,
  ]
}

output "LinuxDMZ_public_ip" {
  value = module.linuxDMZ.Host_public_ip
}


module "win10" {
  source   = "../modules/win10"
  basename = var.basename
  hostname = "Windows"
  subnet   = "lan"
  username = var.username
  password = var.password
  depends_on = [
    module.common,
  ]
}


module "win2019" {
  source   = "../modules/winserver"
  basename = var.basename
  hostname = "winserver"
  subnet   = "dmz"
  username = var.username
  password = var.password
  depends_on = [
    module.common,
  ]
}